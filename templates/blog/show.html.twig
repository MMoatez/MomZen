{% extends 'BaseFront.html.twig' %}

{% block title %}{{ article.title }}{% endblock %}

{% block body %}
    <div class="page-section pt-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb bg-transparent py-0 mb-5">
                            <li class="breadcrumb-item"><a href="{{ path('app_blog_index') }}">Blog</a></li>
                            <li class="breadcrumb-item active" aria-current="page">{{ article.title }}</li>
                        </ol>
                    </nav>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-8">
                    <article class="blog-details">
                        <div class="post-thumb">
                            {% if article.image %}
                                <img src="{{ asset('uploads/blog/' ~ article.image) }}" alt="{{ article.title }}" class="img-fluid">
                            {% endif %}
                        </div>
                        <div class="post-meta">
                            <div class="post-author">
                                <span class="text-grey">By</span> <a href="#">{{ article.author.email }}</a>  
                            </div>
                            <span class="divider">|</span>
                            <div class="post-date">
                                <a href="#">{{ article.createdAt|date('F j, Y') }}</a>
                            </div>
                        </div>
                        <h2 class="post-title h1">{{ article.title }}</h2>
                        <div class="post-content">
                            {{ article.content|raw }}
                        </div>
                    </article>

                    {% if is_granted('ROLE_ADMIN') %}
                        <div class="mt-4 pt-4 border-top">
                            <div class="btn-group">
                                <a href="{{ path('app_blog_edit', {'id': article.id}) }}" class="btn btn-warning">Edit Article</a>
                                <form method="post" action="{{ path('app_blog_delete', {'id': article.id}) }}" 
                                      onsubmit="return confirm('Are you sure you want to delete this article?');"
                                      style="display: inline-block">
                                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ article.id) }}">
                                    <button class="btn btn-danger">Delete</button>
                                </form>
                            </div>
                        </div>
                    {% endif %}
                </div>
                <div class="col-lg-4">
                    <div class="sidebar">
                        <!-- Add sidebar content here if needed -->
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %} 