<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.control.cell.PropertyValueFactory?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controllers.DashboardAdmin"
            prefHeight="600.0" prefWidth="1000.0"
            style="-fx-background-color: #f5f5f5;">

    <!-- Sidebar -->
    <VBox prefWidth="200" AnchorPane.leftAnchor="0" AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0"
          style="-fx-background-color: #2c3e50; -fx-padding: 20;">

        <!-- Logo/Titre -->
        <HBox alignment="CENTER" spacing="10" style="-fx-padding: 0 0 30 0;">
            <Circle radius="20" fill="#3498db"/>
            <Label text="MediCare" style="-fx-text-fill: white; -fx-font-size: 18; -fx-font-weight: bold;"/>
        </HBox>

        <!-- Menu -->
        <VBox spacing="15">
            <Button text="Dashboard" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14; -fx-alignment: CENTER_LEFT;">
                <graphic>
                    <ImageView fitWidth="20" fitHeight="20">
                        <Image url="@/images/login.jpg"/>
                    </ImageView>
                </graphic>
            </Button>

            <Button text="Patients" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-size: 14; -fx-alignment: CENTER_LEFT; -fx-background-radius: 5;">
                <graphic>
                    <ImageView fitWidth="20" fitHeight="20">
                        <Image url="@/images/login.jpg"/>
                    </ImageView>
                </graphic>
            </Button>

            <Button text="Rendez-vous" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14; -fx-alignment: CENTER_LEFT;">
                <graphic>
                    <ImageView fitWidth="20" fitHeight="20">
                        <Image url="@/images/login.jpg"/>
                    </ImageView>
                </graphic>
            </Button>

            <Button text="Paramètres" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14; -fx-alignment: CENTER_LEFT;">
                <graphic>
                    <ImageView fitWidth="20" fitHeight="20">
                        <Image url="@/images/login.jpg"/>
                    </ImageView>
                </graphic>
            </Button>
        </VBox>

        <Region VBox.vgrow="ALWAYS"/>

        <Button fx:id="logoutButton" onAction="#handleLogout" text="Déconnexion" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14; -fx-alignment: CENTER_LEFT;">
            <graphic>
                <ImageView fitWidth="20" fitHeight="20">
                    <Image url="@/images/login.jpg"/>
                </ImageView>
            </graphic>
        </Button>
    </VBox>

    <!-- Main Content -->
    <VBox layoutX="200" prefWidth="800" AnchorPane.topAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0"
          style="-fx-padding: 20; -fx-spacing: 20;">

        <HBox alignment="CENTER_LEFT" style="-fx-spacing: 15;">
            <Label text="Gestion des Utilisateurs" style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <Region HBox.hgrow="ALWAYS"/>
            <TextField promptText="Rechercher..." style="-fx-background-radius: 20; -fx-padding: 5 15;"/>
            <Button text="+ Ajouter" style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-background-radius: 20; -fx-padding: 5 15;"/>
        </HBox>

        <TableView fx:id="userTable" style="-fx-background-color: white; -fx-background-radius: 10;">
            <columns>
                <TableColumn text="ID" prefWidth="50">
                    <cellValueFactory><PropertyValueFactory property="id"/></cellValueFactory>
                </TableColumn>
                <TableColumn text="Nom" prefWidth="150">
                    <cellValueFactory><PropertyValueFactory property="nom"/></cellValueFactory>
                </TableColumn>
                <TableColumn text="Prénom" prefWidth="150">
                    <cellValueFactory><PropertyValueFactory property="prenom"/></cellValueFactory>
                </TableColumn>
                <TableColumn text="Email" prefWidth="200">
                    <cellValueFactory><PropertyValueFactory property="email"/></cellValueFactory>
                </TableColumn>
                <TableColumn text="Rôle" prefWidth="100">
                    <cellValueFactory><PropertyValueFactory property="role"/></cellValueFactory>
                </TableColumn>
                <TableColumn text="Actions" prefWidth="150">
                    <cellValueFactory><PropertyValueFactory property="dummy"/></cellValueFactory>
                </TableColumn>
            </columns>
        </TableView>

        <HBox style="-fx-spacing: 20;">
            <VBox style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 15; -fx-spacing: 5; -fx-pref-width: 200;">
                <Label text="Total Utilisateurs" style="-fx-text-fill: #7f8c8d; -fx-font-size: 14;"/>
                <Label text="125" style="-fx-text-fill: #2c3e50; -fx-font-size: 24; -fx-font-weight: bold;"/>
                <HBox style="-fx-spacing: 5; -fx-alignment: CENTER_LEFT;">
                    <ImageView fitWidth="15" fitHeight="15">
                        <Image url="@/images/login.jpg"/>
                    </ImageView>
                    <Label text="+12% ce mois" style="-fx-text-fill: #2ecc71; -fx-font-size: 12;"/>
                </HBox>
            </VBox>

            <VBox style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 15; -fx-spacing: 5; -fx-pref-width: 200;">
                <Label text="Patients" style="-fx-text-fill: #7f8c8d; -fx-font-size: 14;"/>
                <Label text="89" style="-fx-text-fill: #2c3e50; -fx-font-size: 24; -fx-font-weight: bold;"/>
                <HBox style="-fx-spacing: 5; -fx-alignment: CENTER_LEFT;">
                    <ImageView fitWidth="15" fitHeight="15">
                        <Image url="@/images/login.jpg"/>
                    </ImageView>
                    <Label text="+8% ce mois" style="-fx-text-fill: #2ecc71; -fx-font-size: 12;"/>
                </HBox>
            </VBox>

            <VBox style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 15; -fx-spacing: 5; -fx-pref-width: 200;">
                <Label text="Médecins" style="-fx-text-fill: #7f8c8d; -fx-font-size: 14;"/>
                <Label text="24" style="-fx-text-fill: #2c3e50; -fx-font-size: 24; -fx-font-weight: bold;"/>
                <HBox style="-fx-spacing: 5; -fx-alignment: CENTER_LEFT;">
                    <ImageView fitWidth="15" fitHeight="15">
                        <Image url="@/images/login.jpg"/>
                    </ImageView>
                    <Label text="-2% ce mois" style="-fx-text-fill: #e74c3c; -fx-font-size: 12;"/>
                </HBox>
            </VBox>
        </HBox>
    </VBox>
</AnchorPane>